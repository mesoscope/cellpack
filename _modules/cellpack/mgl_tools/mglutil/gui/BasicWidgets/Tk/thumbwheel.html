

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel &mdash; cellPack 0.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../../../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../../../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../../../" src="../../../../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../../../../" id="documentation_options" src="../../../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../../../_static/jquery.js"></script>
        <script src="../../../../../../../_static/underscore.js"></script>
        <script src="../../../../../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../../../../index.html" class="icon icon-home"> cellPack
          

          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../installation.html#stable-release">Stable release</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../installation.html#from-sources">From sources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../modules.html">Package modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../cellpack.html">cellpack package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../../../cellpack.html#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../../../cellpack.autopack.html">cellpack.autopack package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../../../cellpack.bin.html">cellpack.bin package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../../../cellpack.mgl_tools.html">cellpack.mgl_tools package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../../../cellpack.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../../../cellpack.html#module-cellpack.example">cellpack.example module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../../../cellpack.html#module-cellpack">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../contributing.html#get-started">Get Started!</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../contributing.html#deploying">Deploying</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../../../index.html">cellPack</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../../../../index.html">Module code</a> &raquo;</li>
        
          <li><a href="../../../../../../cellpack.html">cellpack</a> &raquo;</li>
        
          <li><a href="../../../gui.html">cellpack.mgl_tools.mglutil.gui</a> &raquo;</li>
        
      <li>cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel</h1><div class="highlight"><pre>
<span></span><span class="c1">## Automatically adapted for numpy.oldnumeric Jul 23, 2007 by</span>

<span class="c1">#########################################################################</span>
<span class="c1">#</span>
<span class="c1"># Date: May 2001 Authors: Michel Sanner, Daniel Stoffler</span>
<span class="c1">#</span>
<span class="c1">#    sanner@scripps.edu</span>
<span class="c1">#    stoffler@scripps.edu</span>
<span class="c1">#</span>
<span class="c1"># Copyright: Michel Sanner, Daniel Stoffler and TSRI</span>
<span class="c1">#</span>
<span class="c1">#########################################################################</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">tkinter</span>
<span class="kn">import</span> <span class="nn">math</span>

<span class="kn">import</span> <span class="nn">cellpack.mgl_tools.oldnumeric</span> <span class="k">as</span> <span class="nn">Numeric</span>
<span class="kn">from</span> <span class="nn">cellpack.mgl_tools.mglutil.util.callback</span> <span class="kn">import</span> <span class="n">CallbackManager</span>
<span class="kn">from</span> <span class="nn">cellpack.mgl_tools.mglutil.util.misc</span> <span class="kn">import</span> <span class="n">ensureFontCase</span>
<span class="kn">from</span> <span class="nn">.optionsPanel</span> <span class="kn">import</span> <span class="n">OptionsPanel</span>
<span class="kn">from</span> <span class="nn">.KeyboardEntry</span> <span class="kn">import</span> <span class="n">KeyboardEntry</span>


<div class="viewcode-block" id="ThumbWheel"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel">[docs]</a><span class="k">class</span> <span class="nc">ThumbWheel</span><span class="p">(</span><span class="n">tkinter</span><span class="o">.</span><span class="n">Frame</span><span class="p">,</span> <span class="n">KeyboardEntry</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;This class builds a thumbwheel put onto a wheelpad.</span>
<span class="sd">    constructor options:</span>
<span class="sd">    - master: the master into the thumwheel can be packed. If one is specified,</span>
<span class="sd">      the widget gets packed in a toplevel() window</span>
<span class="sd">    - height, width, orient specify the size and orientation of the widget.</span>
<span class="sd">    - wheelpad specifies the pad onto which the thumbwheel gets packed</span>
<span class="sd">      optional is a canvascfg to configure the wheelpad canvas Tkinter options.</span>
<span class="sd">      for example if the wheelpad needs a blue background: canvascfg={&#39;bg&#39;:&#39;blue&#39;}</span>
<span class="sd">    - continuous: boolean. When set to True, continuous is &#39;on&#39; and the callback functions</span>
<span class="sd">      will be called each time the value changes. Otherwise continuous will be &#39;off&#39; and</span>
<span class="sd">      callback functions will be called on mouse release.</span>
<span class="sd">    - callback: (None, callable function or list of callable functions).to specify function</span>
<span class="sd">      to be called when the value of the thumbwheel is modified.</span>
<span class="sd">    - type: (&#39;float&#39;, &#39;int&#39; ...) string describing the type of the thumbwheel</span>
<span class="sd">    - min, max, increment, precision, oneTurn specify the parameters of the thumbwheel.</span>
<span class="sd">    - labCfg describes the label of the thumbwheel which will be packed to the left of the widget by default unless &#39;side&#39; is specified. Possible keywords are text and side.</span>

<span class="sd">    - wheelLabCfg describes the label located on the wheel where the value of the thumbwheel</span>
<span class="sd">      will be displayed</span>
<span class="sd">    - showLabel Flag to specify whether to display the wheelLabel always 1, never 0,</span>
<span class="sd">      only on motion 2.</span>
<span class="sd">    - canvasCfg describe the canvas containing the thumbwheel.</span>
<span class="sd">    An option panel is available to the user to modify the thumbwheel settings by right clicking</span>
<span class="sd">    on the widget</span>
<span class="sd">    - lockMin, lockBMin, lockMax, lockBMax, lockIncrement, lockBIncrement,</span>
<span class="sd">      lockPrecision, lockShowLabel, lockValue,  lockType, lockContinuous, lockOneTurn:</span>
<span class="sd">      These flags specifies whether (when set to 1) or not (when set to 0) the user will be</span>
<span class="sd">      allowed to change the setting of the thumbwheel.</span>
<span class="sd">    - reportDelta is flag to specify whether value differences should be reported</span>
<span class="sd">      rathe than absolute values</span>

<span class="sd">    The widget has a configure() method: type, min, max, increment, precision,</span>
<span class="sd">    showLabel, value, continuous, oneTurn, orient, reportDelta  can be set this</span>
<span class="sd">    way.</span>

<span class="sd">    a lock() method is used to disable the various gui components of the</span>
<span class="sd">    options panel. Usage: &lt;instance&gt;.configure(&lt;component&gt;=&lt;value&gt;)</span>
<span class="sd">    components see configure(). value is 0 or 1. 1 disables,0 enables.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># FIXME: this would be the mechanism to remove all arguments from the</span>
    <span class="c1"># init (see DejaVu)</span>
    <span class="c1">#    keywords = [</span>
    <span class="c1">#        &#39;master&#39;,</span>
    <span class="c1">#        &#39;oneTurn&#39;,</span>
    <span class="c1">#        ]</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">labCfg</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;fg&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="s2">&quot;side&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">},</span>
        <span class="n">wheelLabCfg</span><span class="o">=</span><span class="p">{},</span>
        <span class="n">canvasCfg</span><span class="o">=</span><span class="p">{},</span>
        <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;float&quot;</span><span class="p">,</span>
        <span class="nb">min</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="nb">max</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">increment</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">precision</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
        <span class="n">showLabel</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">continuous</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
        <span class="n">height</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span>
        <span class="n">oneTurn</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
        <span class="n">wheelPad</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
        <span class="n">lockMin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">lockBMin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">lockMax</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">lockBMax</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">lockIncrement</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">lockBIncrement</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">lockPrecision</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">lockShowLabel</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">lockValue</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">lockType</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">lockContinuous</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">lockOneTurn</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">orient</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">reportDelta</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kw</span>
    <span class="p">):</span>

        <span class="c1"># See FIXME init</span>
        <span class="c1">#        if __debug__:</span>
        <span class="c1">#            checkkeywords(kw)</span>

        <span class="n">tkinter</span><span class="o">.</span><span class="n">Frame</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">)</span>
        <span class="n">tkinter</span><span class="o">.</span><span class="n">Pack</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>

        <span class="c1"># FIXME: nblines are not dynamically computed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nblines</span> <span class="o">=</span> <span class="mi">30</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">callback</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">callbacks</span> <span class="o">=</span> <span class="n">CallbackManager</span><span class="p">()</span>  <span class="c1"># object to manage callback</span>
        <span class="c1"># functions. They get called with the</span>
        <span class="c1"># current value as an argument</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">200</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="mi">40</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="n">width</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setHeight</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
        <span class="c1"># set widget orientation: either horizontal or vertical</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setOrient</span><span class="p">(</span><span class="n">orient</span><span class="p">)</span>

        <span class="c1"># initialize various attributes with default values</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">precision</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># decimal places</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># minimum value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># maximum value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">increment</span> <span class="o">=</span> <span class="n">increment</span>  <span class="c1"># value increment</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">minOld</span> <span class="o">=</span> <span class="mf">0.0</span>  <span class="c1"># used to store old values</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maxOld</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">incrementOld</span> <span class="o">=</span> <span class="n">increment</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="mi">50</span>  <span class="c1"># defines widget size</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">offsetValue</span> <span class="o">=</span> <span class="mf">0.0</span>  <span class="c1"># used to set increment correctly</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lab</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># option panel widget</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">oneTurn</span> <span class="o">=</span> <span class="mf">360.0</span>  <span class="c1"># value increment for 1 full turn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">0.0</span>  <span class="c1"># current value of widget</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">oldValue</span> <span class="o">=</span> <span class="mf">0.0</span>  <span class="c1"># old value of widget</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">showLabel</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># turn on to display label on</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">continuous</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># set to 1 to call callbacks at</span>
        <span class="c1"># each value change, else gets called</span>
        <span class="c1"># on button release event</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">angle</span> <span class="o">=</span> <span class="mf">0.0</span>  <span class="c1"># angle corresponding to value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">labCfg</span> <span class="o">=</span> <span class="n">labCfg</span>  <span class="c1"># Tkinter Label options</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">labelFont</span> <span class="o">=</span> <span class="p">(</span><span class="n">ensureFontCase</span><span class="p">(</span><span class="s2">&quot;helvetica&quot;</span><span class="p">),</span> <span class="mi">14</span><span class="p">,</span> <span class="s2">&quot;bold&quot;</span><span class="p">)</span>  <span class="c1"># label font</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">labelColor</span> <span class="o">=</span> <span class="s2">&quot;yellow&quot;</span>  <span class="c1"># label color</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># the canvas to create the widget in</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">usedArcColor</span> <span class="o">=</span> <span class="s2">&quot;#aaaaaa&quot;</span>  <span class="c1"># filled arc color of used portion</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unusedArcColor</span> <span class="o">=</span> <span class="s2">&quot;#cccccc&quot;</span>  <span class="c1"># filled arc color of unused portion</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pyOver180</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mf">180.0</span>  <span class="c1"># constants used in various places</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">threeSixtyOver1turn</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">piOver1turn</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mf">360.0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">wheelLabCfg</span> <span class="o">=</span> <span class="n">wheelLabCfg</span>  <span class="c1"># Tkinter wheel label options</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvasCfg</span> <span class="o">=</span> <span class="n">canvasCfg</span>  <span class="c1"># Tkinter Canvas options</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wheelPad</span> <span class="o">=</span> <span class="n">wheelPad</span>  <span class="c1"># pad between wheel and widget borders</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">deltaVal</span> <span class="o">=</span> <span class="mf">0.0</span>  <span class="c1"># delta with value at last callback</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">valueLabel</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Tkinter Label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setType</span><span class="p">(</span><span class="nb">type</span><span class="p">)</span>  <span class="c1"># can be float or int</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">discreteValue</span> <span class="o">=</span> <span class="mf">0.0</span>  <span class="c1"># value in discrete space</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">lockMin</span> <span class="o">=</span> <span class="n">lockMin</span>  <span class="c1"># lock&lt;X&gt; variables in configure()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockMax</span> <span class="o">=</span> <span class="n">lockMax</span>  <span class="c1"># to lock/unlock entries in options</span>
        <span class="c1"># panel</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">lockMin</span> <span class="o">=</span> <span class="n">lockMin</span>  <span class="c1"># lock&lt;X&gt; vars are used in self.lock()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockMax</span> <span class="o">=</span> <span class="n">lockMax</span>  <span class="c1"># to lock/unlock entries in optionpanel</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockIncrement</span> <span class="o">=</span> <span class="n">lockIncrement</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockBMin</span> <span class="o">=</span> <span class="n">lockBMin</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockBMax</span> <span class="o">=</span> <span class="n">lockBMax</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockBIncrement</span> <span class="o">=</span> <span class="n">lockBIncrement</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockPrecision</span> <span class="o">=</span> <span class="n">lockPrecision</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockShowLabel</span> <span class="o">=</span> <span class="n">lockShowLabel</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockValue</span> <span class="o">=</span> <span class="n">lockValue</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockType</span> <span class="o">=</span> <span class="n">lockType</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockContinuous</span> <span class="o">=</span> <span class="n">lockContinuous</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockOneTurn</span> <span class="o">=</span> <span class="n">lockOneTurn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reportDelta</span> <span class="o">=</span> <span class="n">reportDelta</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">labCfg</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">createCanvas</span><span class="p">(</span><span class="n">master</span><span class="p">,</span> <span class="n">wheelPad</span><span class="o">=</span><span class="n">wheelPad</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;ButtonPress-1&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouseDown</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;ButtonRelease-1&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouseUp</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;B1-Motion&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouseMove</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Button-3&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">toggleOptPanel</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">valueLabel</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;ButtonPress-1&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouseDown</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">valueLabel</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;ButtonRelease-1&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouseUp</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">valueLabel</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;B1-Motion&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouseMove</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">valueLabel</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Button-3&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">toggleOptPanel</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;nt&quot;</span><span class="p">:</span>  <span class="c1"># sys.platform == &#39;win32&#39;:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;MouseWheel&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouseWheel</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">valueLabel</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;MouseWheel&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouseWheel</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Button-4&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouseWheel</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">valueLabel</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Button-4&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouseWheel</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Button-5&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouseWheel</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">valueLabel</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Button-5&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouseWheel</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Button-3&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">toggleOptPanel</span><span class="p">)</span>

        <span class="n">KeyboardEntry</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">valueLabel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">setFromEntry</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span> <span class="o">=</span> <span class="n">OptionsPanel</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Thumbwheel Options&quot;</span><span class="p">)</span>

        <span class="c1"># now set the constructor options correctly using the configure method</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
            <span class="o">*</span><span class="p">(),</span>
            <span class="o">**</span><span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">type</span><span class="p">,</span>
                <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="nb">min</span><span class="p">,</span>
                <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="nb">max</span><span class="p">,</span>
                <span class="s2">&quot;increment&quot;</span><span class="p">:</span> <span class="n">increment</span><span class="p">,</span>
                <span class="s2">&quot;precision&quot;</span><span class="p">:</span> <span class="n">precision</span><span class="p">,</span>
                <span class="s2">&quot;showLabel&quot;</span><span class="p">:</span> <span class="n">showLabel</span><span class="p">,</span>
                <span class="s2">&quot;continuous&quot;</span><span class="p">:</span> <span class="n">continuous</span><span class="p">,</span>
                <span class="s2">&quot;oneTurn&quot;</span><span class="p">:</span> <span class="n">oneTurn</span><span class="p">,</span>
                <span class="s2">&quot;lockType&quot;</span><span class="p">:</span> <span class="n">lockType</span><span class="p">,</span>
                <span class="s2">&quot;lockMin&quot;</span><span class="p">:</span> <span class="n">lockMin</span><span class="p">,</span>
                <span class="s2">&quot;lockBMin&quot;</span><span class="p">:</span> <span class="n">lockBMin</span><span class="p">,</span>
                <span class="s2">&quot;lockMax&quot;</span><span class="p">:</span> <span class="n">lockMax</span><span class="p">,</span>
                <span class="s2">&quot;lockBMax&quot;</span><span class="p">:</span> <span class="n">lockBMax</span><span class="p">,</span>
                <span class="s2">&quot;lockIncrement&quot;</span><span class="p">:</span> <span class="n">lockIncrement</span><span class="p">,</span>
                <span class="s2">&quot;lockBIncrement&quot;</span><span class="p">:</span> <span class="n">lockBIncrement</span><span class="p">,</span>
                <span class="s2">&quot;lockPrecision&quot;</span><span class="p">:</span> <span class="n">lockPrecision</span><span class="p">,</span>
                <span class="s2">&quot;lockShowLabel&quot;</span><span class="p">:</span> <span class="n">lockShowLabel</span><span class="p">,</span>
                <span class="s2">&quot;lockValue&quot;</span><span class="p">:</span> <span class="n">lockValue</span><span class="p">,</span>
                <span class="s2">&quot;lockContinuous&quot;</span><span class="p">:</span> <span class="n">lockContinuous</span><span class="p">,</span>
                <span class="s2">&quot;lockOneTurn&quot;</span><span class="p">:</span> <span class="n">lockOneTurn</span><span class="p">,</span>
                <span class="s2">&quot;orient&quot;</span><span class="p">:</span> <span class="n">orient</span><span class="p">,</span>
                <span class="s2">&quot;reportDelta&quot;</span><span class="p">:</span> <span class="n">reportDelta</span><span class="p">,</span>
                <span class="s2">&quot;callback&quot;</span><span class="p">:</span> <span class="n">callback</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">)</span>

<div class="viewcode-block" id="ThumbWheel.setFromEntry"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.setFromEntry">[docs]</a>    <span class="k">def</span> <span class="nf">setFromEntry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">valueString</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">(</span><span class="n">valueString</span><span class="p">),</span> <span class="n">force</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="c1"># fixme we would like to pop this up in a window maybe</span>
            <span class="kn">import</span> <span class="nn">traceback</span>

            <span class="n">traceback</span><span class="o">.</span><span class="n">print_stack</span><span class="p">()</span>
            <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span></div>

<div class="viewcode-block" id="ThumbWheel.handleKeyStroke"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.handleKeyStroke">[docs]</a>    <span class="k">def</span> <span class="nf">handleKeyStroke</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="c1"># handle key strokes for numbers only in widget keyboard entry label</span>
        <span class="n">key</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">keysym</span>

        <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()</span> <span class="ow">or</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;period&quot;</span> <span class="ow">or</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;minus&quot;</span> <span class="ow">or</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;plus&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;period&quot;</span><span class="p">:</span>
                <span class="n">key</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;minus&quot;</span><span class="p">:</span>
                <span class="n">key</span> <span class="o">=</span> <span class="s2">&quot;-&quot;</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;plus&quot;</span><span class="p">:</span>
                <span class="n">key</span> <span class="o">=</span> <span class="s2">&quot;+&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">typedValue</span> <span class="o">+=</span> <span class="n">key</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">typedValueTK</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">typedValue</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">KeyboardEntry</span><span class="o">.</span><span class="n">handleKeyStroke</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span></div>

<div class="viewcode-block" id="ThumbWheel.setWidth"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.setWidth">[docs]</a>    <span class="k">def</span> <span class="nf">setWidth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span> <span class="s2">&quot;Illegal width: expected </span><span class="si">%s</span><span class="s2">, got </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="nb">type</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
            <span class="nb">type</span><span class="p">(</span><span class="n">width</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">assert</span> <span class="n">width</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;Illegal width: must be &gt; 0, got </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span></div>

<div class="viewcode-block" id="ThumbWheel.setHeight"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.setHeight">[docs]</a>    <span class="k">def</span> <span class="nf">setHeight</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">height</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">height</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span> <span class="s2">&quot;Illegal height: expected </span><span class="si">%s</span><span class="s2">, got </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="nb">type</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
            <span class="nb">type</span><span class="p">(</span><span class="n">height</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">assert</span> <span class="n">height</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;Illegal height: must be &gt; 0, got </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span></div>

<div class="viewcode-block" id="ThumbWheel.setCallbacks"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.setCallbacks">[docs]</a>    <span class="k">def</span> <span class="nf">setCallbacks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cb</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set widget callback. Must be callable function. Callback is called</span>
<span class="sd">        every time the widget value is set/modified&quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="n">cb</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">cb</span><span class="p">,</span> <span class="s2">&quot;__call__&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">cb</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">list</span><span class="p">,</span> <span class="p">(</span>
            <span class="s2">&quot;Illegal callback: must be either None or callable. Got </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">cb</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">cb</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">cb</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">list</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">func</span> <span class="ow">in</span> <span class="n">cb</span><span class="p">:</span>
                <span class="k">assert</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="s2">&quot;__call__&quot;</span><span class="p">),</span> <span class="p">(</span>
                    <span class="s2">&quot;Illegal callback must be callable. Got </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">func</span>
                <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">callbacks</span><span class="o">.</span><span class="n">AddCallback</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">callbacks</span><span class="o">.</span><span class="n">AddCallback</span><span class="p">(</span><span class="n">cb</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">callback</span> <span class="o">=</span> <span class="n">cb</span></div>

<div class="viewcode-block" id="ThumbWheel.toggleOptPanel"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.toggleOptPanel">[docs]</a>    <span class="k">def</span> <span class="nf">toggleOptPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">flag</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">Dismiss_cb</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">,</span> <span class="s2">&quot;optionsForm&quot;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">displayPanel</span><span class="p">(</span><span class="n">create</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">displayPanel</span><span class="p">(</span><span class="n">create</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></div>

<div class="viewcode-block" id="ThumbWheel.mouseDown"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.mouseDown">[docs]</a>    <span class="k">def</span> <span class="nf">mouseDown</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="c1"># remember where the mouse went down</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">orient</span> <span class="o">==</span> <span class="s2">&quot;horizontal&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lastx</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">x</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lastx</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">y</span></div>

<div class="viewcode-block" id="ThumbWheel.mouseUp"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.mouseUp">[docs]</a>    <span class="k">def</span> <span class="nf">mouseUp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="c1"># call callbacks if not in continuous mode</span>
        <span class="n">newVal</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">oldValue</span> <span class="o">!=</span> <span class="n">newVal</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">continuous</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">oldValue</span> <span class="o">=</span> <span class="n">newVal</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">callbacks</span><span class="o">.</span><span class="n">CallCallbacks</span><span class="p">(</span><span class="n">newVal</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">showLabel</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="c1"># no widget labels on mouse release</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">valueLabel</span><span class="o">.</span><span class="n">place_forget</span><span class="p">()</span></div>

<div class="viewcode-block" id="ThumbWheel.mouseMove"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.mouseMove">[docs]</a>    <span class="k">def</span> <span class="nf">mouseMove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">orient</span> <span class="o">==</span> <span class="s2">&quot;horizontal&quot;</span><span class="p">:</span>
            <span class="n">dx</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">lastx</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lastx</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">x</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">dx</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">lastx</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lasty</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">y</span>
        <span class="n">dang</span> <span class="o">=</span> <span class="n">dx</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mf">180.0</span>
        <span class="n">val</span> <span class="o">=</span> <span class="n">dang</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">oneTurnOver2pi</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">computeNewValue</span><span class="p">(</span><span class="n">val</span><span class="p">)</span></div>

<div class="viewcode-block" id="ThumbWheel.mouseWheel"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.mouseWheel">[docs]</a>    <span class="k">def</span> <span class="nf">mouseWheel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="c1"># print &quot;mouseWheel&quot;, event, event.num</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;nt&quot;</span><span class="p">:</span>  <span class="c1"># sys.platform == &#39;win32&#39;:</span>
            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">delta</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">lEventNum</span> <span class="o">=</span> <span class="mi">4</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">lEventNum</span> <span class="o">=</span> <span class="mi">5</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">lEventNum</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">num</span>
        <span class="k">if</span> <span class="n">lEventNum</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">computeNewValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">oneTurn</span> <span class="o">/</span> <span class="mi">10</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">computeNewValue</span><span class="p">(</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">oneTurn</span> <span class="o">/</span> <span class="mi">10</span><span class="p">)</span></div>

<div class="viewcode-block" id="ThumbWheel.get"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.get">[docs]</a>    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reportDelta</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">deltaVal</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="ThumbWheel.printLabel"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.printLabel">[docs]</a>    <span class="k">def</span> <span class="nf">printLabel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">showLabel</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]:</span>
            <span class="k">return</span>
        <span class="n">hl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">valueLabel</span><span class="o">.</span><span class="n">winfo_reqheight</span><span class="p">()</span>
        <span class="n">wl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">valueLabel</span><span class="o">.</span><span class="n">winfo_reqwidth</span><span class="p">()</span>
        <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">winfo_reqheight</span><span class="p">()</span>
        <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">winfo_reqwidth</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">valueLabel</span><span class="o">.</span><span class="n">place</span><span class="p">(</span>
            <span class="n">in_</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="p">(</span><span class="n">w</span> <span class="o">-</span> <span class="n">wl</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="p">((</span><span class="n">h</span> <span class="o">-</span> <span class="n">hl</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">/</span> <span class="mi">4</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">valueLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">labelFormat</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="ThumbWheel.set"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.set">[docs]</a>    <span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="c1"># if force is set to 1, we call this method regardless of the</span>
        <span class="c1"># widget configuration. This is for example the case if the thumwheel</span>
        <span class="c1"># is set to continuous=0, but the value is set in the options panel</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">min</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">val</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">max</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">val</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max</span>

        <span class="n">oldval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">val</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">deltaVal</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">-</span> <span class="n">oldval</span>

        <span class="n">newVal</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">update</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">continuous</span> <span class="ow">or</span> <span class="n">force</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">oldValue</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="ow">or</span> <span class="n">force</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">oldValue</span> <span class="o">=</span> <span class="n">newVal</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">callbacks</span><span class="o">.</span><span class="n">CallCallbacks</span><span class="p">(</span><span class="n">newVal</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">showLabel</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">printLabel</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">showLabel</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">printLabel</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">valInput</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">labelFormat</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span></div>

    <span class="c1"># FIXME: this could be renamed increment (to parallel the set method)</span>
    <span class="c1"># some code in this method is duplicated in set method</span>
<div class="viewcode-block" id="ThumbWheel.computeNewValue"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.computeNewValue">[docs]</a>    <span class="k">def</span> <span class="nf">computeNewValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="c1"># snap to closest increment</span>
        <span class="n">oldval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">increment</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">increment</span> <span class="o">!=</span> <span class="mf">0.0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">discreteValue</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">discreteValue</span> <span class="o">+</span> <span class="n">val</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">discreteValue</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">increment</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">increment</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">discreteValue</span> <span class="o">=</span> <span class="mf">0.0</span>
            <span class="k">elif</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">discreteValue</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">increment</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">increment</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">discreteValue</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">+</span> <span class="n">val</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">min</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min</span>
            <span class="n">val</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">max</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max</span>
            <span class="n">val</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">deltaVal</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">-</span> <span class="n">oldval</span>

        <span class="c1"># self.angle is used in drawLines()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">angle</span> <span class="o">=</span> <span class="n">val</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">oneTurnOver2pi</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">drawLines</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">showLabel</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># ALWAYS</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">printLabel</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">valInput</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">labelFormat</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

        <span class="n">newVal</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">oldValue</span> <span class="o">!=</span> <span class="n">newVal</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">reportDelta</span><span class="p">:</span>
            <span class="c1"># this part is called either when the value is float OR when</span>
            <span class="c1"># continuous is off</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">continuous</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">oldValue</span> <span class="o">=</span> <span class="n">newVal</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">callbacks</span><span class="o">.</span><span class="n">CallCallbacks</span><span class="p">(</span><span class="n">newVal</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># this part is usually called when the datatype is INT AND</span>
            <span class="c1"># continuous is on</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">oldValue</span> <span class="o">!=</span> <span class="n">newVal</span><span class="p">:</span>
                <span class="c1"># only call this part when we &quot;reach&quot; a new value</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">oldValue</span> <span class="o">=</span> <span class="n">newVal</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">callbacks</span><span class="o">.</span><span class="n">CallCallbacks</span><span class="p">(</span><span class="n">newVal</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># else we need nothing to do</span>
                <span class="k">pass</span></div>

<div class="viewcode-block" id="ThumbWheel.createCanvas"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.createCanvas">[docs]</a>    <span class="k">def</span> <span class="nf">createCanvas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="n">wheelPad</span><span class="o">=</span><span class="mi">6</span><span class="p">):</span>
        <span class="n">bw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">borderWidth</span> <span class="o">=</span> <span class="n">wheelPad</span>  <span class="c1"># distance between wheel and raise</span>

        <span class="n">cd</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">+</span> <span class="n">bw</span><span class="p">,</span>
            <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">+</span> <span class="n">bw</span><span class="p">,</span>
            <span class="s2">&quot;relief&quot;</span><span class="p">:</span> <span class="s2">&quot;raised&quot;</span><span class="p">,</span>
            <span class="s2">&quot;borderwidth&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">w</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvasCfg</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="n">cd</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">w</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Canvas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cd</span><span class="p">)</span>
        <span class="n">cbdw</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s2">&quot;borderwidth&quot;</span><span class="p">))</span>
        <span class="n">bd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">borderWidth</span> <span class="o">+</span> <span class="n">cbdw</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># +1 for pixel0 that is not drawn</span>

        <span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="n">bw</span>
        <span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">bw</span>
        <span class="n">cp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">create_polygon</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outline1</span> <span class="o">=</span> <span class="n">cp</span><span class="p">(</span>
            <span class="n">bd</span><span class="p">,</span>
            <span class="n">bd</span><span class="p">,</span>
            <span class="n">bd</span><span class="p">,</span>
            <span class="n">height</span> <span class="o">+</span> <span class="n">cbdw</span><span class="p">,</span>
            <span class="n">width</span> <span class="o">+</span> <span class="n">cbdw</span><span class="p">,</span>
            <span class="n">height</span> <span class="o">+</span> <span class="n">cbdw</span><span class="p">,</span>
            <span class="n">width</span> <span class="o">+</span> <span class="n">cbdw</span><span class="p">,</span>
            <span class="n">bd</span><span class="p">,</span>
            <span class="n">bd</span><span class="p">,</span>
            <span class="n">bd</span><span class="p">,</span>
            <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">outline</span><span class="o">=</span><span class="s2">&quot;gray60&quot;</span><span class="p">,</span>
            <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;gray85&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">ul</span> <span class="o">=</span> <span class="n">bd</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># upper left pixel</span>
        <span class="n">l</span> <span class="o">=</span> <span class="p">(</span><span class="n">width</span> <span class="o">+</span> <span class="n">cbdw</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">bd</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># length of the inner box</span>
        <span class="n">cl25</span> <span class="o">=</span> <span class="mf">2.0</span> <span class="o">*</span> <span class="n">l</span> <span class="o">/</span> <span class="mf">25.0</span>
        <span class="n">cl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">create_line</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outline2</span> <span class="o">=</span> <span class="n">cl</span><span class="p">(</span>
            <span class="n">ul</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">cl25</span><span class="p">),</span>
            <span class="n">ul</span><span class="p">,</span>
            <span class="n">ul</span><span class="p">,</span>
            <span class="n">ul</span><span class="p">,</span>
            <span class="n">ul</span><span class="p">,</span>
            <span class="n">height</span> <span class="o">+</span> <span class="n">cbdw</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">ul</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">cl25</span><span class="p">),</span>
            <span class="n">height</span> <span class="o">+</span> <span class="n">cbdw</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;gray20&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outline3</span> <span class="o">=</span> <span class="n">cl</span><span class="p">(</span>
            <span class="n">ul</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">cl25</span><span class="p">),</span> <span class="n">ul</span><span class="p">,</span> <span class="n">ul</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">cl25</span><span class="p">),</span> <span class="n">ul</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;gray60&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outline4</span> <span class="o">=</span> <span class="n">cl</span><span class="p">(</span>
            <span class="n">ul</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">cl25</span><span class="p">),</span>
            <span class="n">height</span> <span class="o">+</span> <span class="n">cbdw</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">ul</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">cl25</span><span class="p">),</span>
            <span class="n">height</span> <span class="o">+</span> <span class="n">cbdw</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;gray60&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outline5</span> <span class="o">=</span> <span class="n">cl</span><span class="p">(</span>
            <span class="n">ul</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="mi">5</span> <span class="o">*</span> <span class="n">cl25</span><span class="p">),</span> <span class="n">ul</span><span class="p">,</span> <span class="n">ul</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="mf">7.5</span> <span class="o">*</span> <span class="n">cl25</span><span class="p">),</span> <span class="n">ul</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;white&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outline4</span> <span class="o">=</span> <span class="n">cl</span><span class="p">(</span>
            <span class="n">ul</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="mi">5</span> <span class="o">*</span> <span class="n">cl25</span><span class="p">),</span>
            <span class="n">height</span> <span class="o">+</span> <span class="n">cbdw</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">ul</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="mf">7.5</span> <span class="o">*</span> <span class="n">cl25</span><span class="p">),</span>
            <span class="n">height</span> <span class="o">+</span> <span class="n">cbdw</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outline6</span> <span class="o">=</span> <span class="n">cl</span><span class="p">(</span>
            <span class="n">ul</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="mf">9.5</span> <span class="o">*</span> <span class="n">cl25</span><span class="p">),</span> <span class="n">ul</span><span class="p">,</span> <span class="n">ul</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="mf">11.5</span> <span class="o">*</span> <span class="n">cl25</span><span class="p">),</span> <span class="n">ul</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;gray60&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outline7</span> <span class="o">=</span> <span class="n">cl</span><span class="p">(</span>
            <span class="n">ul</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="mf">9.5</span> <span class="o">*</span> <span class="n">cl25</span><span class="p">),</span>
            <span class="n">height</span> <span class="o">+</span> <span class="n">cbdw</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">ul</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="mf">11.5</span> <span class="o">*</span> <span class="n">cl25</span><span class="p">),</span>
            <span class="n">height</span> <span class="o">+</span> <span class="n">cbdw</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;gray60&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">re</span> <span class="o">=</span> <span class="n">ul</span> <span class="o">+</span> <span class="n">l</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outline8</span> <span class="o">=</span> <span class="n">cl</span><span class="p">(</span>
            <span class="n">ul</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="mf">11.5</span> <span class="o">*</span> <span class="n">cl25</span><span class="p">),</span>
            <span class="n">ul</span><span class="p">,</span>
            <span class="n">re</span><span class="p">,</span>
            <span class="n">ul</span><span class="p">,</span>
            <span class="n">re</span><span class="p">,</span>
            <span class="n">height</span> <span class="o">+</span> <span class="n">cbdw</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">ul</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="mf">11.5</span> <span class="o">*</span> <span class="n">cl25</span><span class="p">),</span>
            <span class="n">height</span> <span class="o">+</span> <span class="n">cbdw</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;gray20&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># corners of the box where the lines have to be drawn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">innerbox</span> <span class="o">=</span> <span class="p">(</span><span class="n">ul</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ul</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">re</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">height</span> <span class="o">+</span> <span class="n">cbdw</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">circlePtsAngles</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">inc</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nblines</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nblines</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">circlePtsAngles</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="n">inc</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">circlePtsAngles</span> <span class="o">=</span> <span class="n">Numeric</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">circlePtsAngles</span><span class="p">,</span> <span class="s2">&quot;f&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linesIds</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shLinesIds</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1"># this table should depend on the number of lines</span>
        <span class="c1"># currently it is of length 15 (self.nblines/2)</span>
        <span class="c1"># It should be resized automatically to self.nblines/2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shadowLinesOptions</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>  <span class="c1"># offset, color, width</span>
            <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;gray30&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;gray30&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;gray30&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;gray30&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;gray30&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;gray30&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>  <span class="c1"># offset, color, width</span>
            <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>  <span class="c1"># offset, color, width</span>
        <span class="p">]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nblines</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">linesIds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cl</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">shLinesIds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cl</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

        <span class="n">wlabCfg</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;padx&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;pady&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
        <span class="n">wlabCfg</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wheelLabCfg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">valueLabel</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="p">,),</span> <span class="o">**</span><span class="n">wlabCfg</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">drawLines</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">LEFT</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toggleWidgetLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">showLabel</span><span class="p">)</span></div>

<div class="viewcode-block" id="ThumbWheel.drawLines"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.drawLines">[docs]</a>    <span class="k">def</span> <span class="nf">drawLines</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># angle has to be provided in radians</span>
        <span class="n">angle</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">angle</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">circlePtsAngles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">circlePtsAngles</span> <span class="o">+</span> <span class="n">angle</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">circlePtsAngles</span> <span class="o">=</span> <span class="n">Numeric</span><span class="o">.</span><span class="n">remainder</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">circlePtsAngles</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
        <span class="n">xcoords</span> <span class="o">=</span> <span class="n">Numeric</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">circlePtsAngles</span><span class="p">)</span>
        <span class="n">xsin</span> <span class="o">=</span> <span class="n">Numeric</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">circlePtsAngles</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">orient</span> <span class="o">==</span> <span class="s2">&quot;horizontal&quot;</span><span class="p">:</span>
            <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">innerbox</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">innerbox</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">w</span> <span class="o">/</span> <span class="mi">2</span>
            <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">innerbox</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">r</span>
            <span class="n">y1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">innerbox</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">y2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">innerbox</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">innerbox</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">innerbox</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">w</span> <span class="o">/</span> <span class="mi">2</span>
            <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">innerbox</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">r</span>
            <span class="n">y1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">innerbox</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">y2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">innerbox</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

        <span class="n">cl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">create_line</span>
        <span class="n">setCoords</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">coords</span>
        <span class="n">setOpt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">itemconfigure</span>
        <span class="n">pi2</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mf">2.0</span>
        <span class="n">drawLines</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">co</span> <span class="o">=</span> <span class="n">Numeric</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="n">xcoords</span><span class="p">,</span> <span class="n">Numeric</span><span class="o">.</span><span class="n">nonzero</span><span class="p">(</span><span class="n">Numeric</span><span class="o">.</span><span class="n">greater_equal</span><span class="p">(</span><span class="n">xsin</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)))</span>
        <span class="n">co</span> <span class="o">=</span> <span class="n">Numeric</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">co</span><span class="p">)</span>
        <span class="n">co</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">co</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">co</span><span class="p">)):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">c</span> <span class="o">-</span> <span class="nb">int</span><span class="p">(</span><span class="n">co</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="n">r</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">orient</span> <span class="o">==</span> <span class="s2">&quot;horizontal&quot;</span><span class="p">:</span>
                <span class="n">setCoords</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">linesIds</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">x</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">setCoords</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">linesIds</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
            <span class="n">shopt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shadowLinesOptions</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">shopt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">orient</span> <span class="o">==</span> <span class="s2">&quot;horizontal&quot;</span><span class="p">:</span>
                <span class="n">setCoords</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shLinesIds</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">x</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">setCoords</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shLinesIds</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
            <span class="n">setOpt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shLinesIds</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">fill</span><span class="o">=</span><span class="n">shopt</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">width</span><span class="o">=</span><span class="n">shopt</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span></div>

<div class="viewcode-block" id="ThumbWheel.toggleWidgetLabel"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.toggleWidgetLabel">[docs]</a>    <span class="k">def</span> <span class="nf">toggleWidgetLabel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">val</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># no widget labels</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">showLabel</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">valueLabel</span><span class="o">.</span><span class="n">place_forget</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">val</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="c1"># show always widget labels</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">showLabel</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">printLabel</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">val</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="c1"># show widget labels only when mouse moves</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">showLabel</span> <span class="o">=</span> <span class="mi">2</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">valueLabel</span><span class="o">.</span><span class="n">place_forget</span><span class="p">()</span></div>

<div class="viewcode-block" id="ThumbWheel.setValue"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.setValue">[docs]</a>    <span class="k">def</span> <span class="nf">setValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nb">type</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="nb">int</span><span class="p">,</span>
            <span class="nb">float</span><span class="p">,</span>
        <span class="p">],</span> <span class="s2">&quot;Illegal type for value: expected </span><span class="si">%s</span><span class="s2"> or </span><span class="si">%s</span><span class="s2">, got </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="nb">type</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
            <span class="nb">type</span><span class="p">(</span><span class="mf">1.0</span><span class="p">),</span>
            <span class="nb">type</span><span class="p">(</span><span class="n">val</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="c1"># setValue does NOT call a callback!</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">min</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">val</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">min</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">val</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">oldValue</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">offsetValue</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">showLabel</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">printLabel</span><span class="p">()</span></div>

    <span class="c1">#####################################################################</span>
    <span class="c1"># the &#39;configure&#39; methods:</span>
    <span class="c1">#####################################################################</span>

<div class="viewcode-block" id="ThumbWheel.configure"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.configure">[docs]</a>    <span class="k">def</span> <span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="k">if</span> <span class="s2">&quot;type&quot;</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">kw</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>  <span class="c1"># make sure type is set first</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setType</span><span class="p">(</span><span class="n">kw</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">])</span>
            <span class="k">del</span> <span class="n">kw</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">kw</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="c1"># the &#39;set&#39; parameter callbacks</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;labCfg&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">setLabel</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;callback&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">setCallbacks</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;wheelLabCfg&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wheelLablCfg</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">printLabel</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;min&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">setMin</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">setMax</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;increment&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">setIncrement</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;precision&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">setPrecision</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;showLabel&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">setShowLabel</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;continuous&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">setContinuous</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;oneTurn&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">setOneTurn</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;orient&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">setOrient</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;reportDelta&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">setReportDelta</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

            <span class="c1"># the &#39;lock&#39; entries callbacks</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;lockType&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lockTypeCB</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;lockMin&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lockMinCB</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;lockBMin&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lockBMinCB</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;lockMax&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lockMaxCB</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;lockBMax&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lockBMaxCB</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;lockIncrement&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lockIncrementCB</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;lockBIncrement&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lockBIncrementCB</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;lockPrecision&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lockPrecisionCB</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;lockShowLabel&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lockShowLabelCB</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;lockValue&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lockValueCB</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;lockContinuous&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lockContinuousCB</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;lockOneTurn&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lockOneTurnCB</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="ThumbWheel.setLabel"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.setLabel">[docs]</a>    <span class="k">def</span> <span class="nf">setLabel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">labCfg</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">labCfg</span> <span class="o">=</span> <span class="n">labCfg</span>

        <span class="n">text</span> <span class="o">=</span> <span class="n">labCfg</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">text</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">text</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">w</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">labCfg</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="s2">&quot;side&quot;</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">w</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="s2">&quot;side&quot;</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">labCfg</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">labCfg</span><span class="p">[</span><span class="s2">&quot;side&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;left&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">lab</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lab</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lab</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">labCfg</span><span class="p">[</span><span class="s2">&quot;side&quot;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lab</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Button-3&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">toggleOptPanel</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lab</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="p">)</span></div>

<div class="viewcode-block" id="ThumbWheel.setType"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.setType">[docs]</a>    <span class="k">def</span> <span class="nf">setType</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Type</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nb">type</span><span class="p">(</span><span class="n">Type</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="nb">bytes</span><span class="p">,</span>
            <span class="nb">type</span><span class="p">,</span>
        <span class="p">],</span> <span class="s2">&quot;Illegal type for datatype. Expected </span><span class="si">%s</span><span class="s2"> or </span><span class="si">%s</span><span class="s2">, got </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="nb">type</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">),</span>
            <span class="nb">type</span><span class="p">(</span><span class="nb">type</span><span class="p">),</span>
            <span class="nb">type</span><span class="p">(</span><span class="n">Type</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">Type</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">):</span>  <span class="c1"># type str</span>
            <span class="k">assert</span> <span class="n">Type</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;int&quot;</span><span class="p">,</span> <span class="s2">&quot;float&quot;</span><span class="p">),</span> <span class="p">(</span>
                <span class="s2">&quot;Illegal type descriptor. Expected &#39;int&#39; or &#39;float&#39;, got &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="n">Type</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">Type</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Type</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="nb">int</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">labelFormat</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2">&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">int_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">labelFormat</span> <span class="o">=</span> <span class="s2">&quot;%.&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">precision</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;f&quot;</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">,</span> <span class="s2">&quot;optionsForm&quot;</span><span class="p">):</span>
            <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">idf</span><span class="o">.</span><span class="n">entryByName</span><span class="p">[</span><span class="s2">&quot;togIntFloat&quot;</span><span class="p">][</span><span class="s2">&quot;widget&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="nb">int</span><span class="p">:</span>
                <span class="n">w</span><span class="o">.</span><span class="n">setvalue</span><span class="p">(</span><span class="s2">&quot;int&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;float&quot;</span><span class="p">:</span>
                <span class="n">w</span><span class="o">.</span><span class="n">setvalue</span><span class="p">(</span><span class="s2">&quot;float&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">updateDisplay</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">valueLabel</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">showLabel</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">printLabel</span><span class="p">()</span></div>

<div class="viewcode-block" id="ThumbWheel.setMin"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.setMin">[docs]</a>    <span class="k">def</span> <span class="nf">setMin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">min</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">min</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>

            <span class="k">assert</span> <span class="nb">type</span><span class="p">(</span><span class="nb">min</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="nb">int</span><span class="p">,</span>
                <span class="nb">float</span><span class="p">,</span>
            <span class="p">],</span> <span class="s2">&quot;Illegal type for minimum. Expected type </span><span class="si">%s</span><span class="s2"> or </span><span class="si">%s</span><span class="s2">, got </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="nb">type</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
                <span class="nb">type</span><span class="p">(</span><span class="mf">0.0</span><span class="p">),</span>
                <span class="nb">type</span><span class="p">(</span><span class="nb">min</span><span class="p">),</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max</span> <span class="ow">and</span> <span class="nb">min</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max</span><span class="p">:</span>
                <span class="nb">min</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">min</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">(</span><span class="nb">min</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">showLabel</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">printLabel</span><span class="p">()</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">min</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">min</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">,</span> <span class="s2">&quot;optionsForm&quot;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">minInput</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">labelFormat</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">min</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">toggleMin</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">min_entry</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;gray0&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">minOld</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">min</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">,</span> <span class="s2">&quot;optionsForm&quot;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">toggleMin</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">min_entry</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;gray40&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="ThumbWheel.setMax"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.setMax">[docs]</a>    <span class="k">def</span> <span class="nf">setMax</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">max</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">max</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>

            <span class="k">assert</span> <span class="nb">type</span><span class="p">(</span><span class="nb">max</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="nb">int</span><span class="p">,</span>
                <span class="nb">float</span><span class="p">,</span>
            <span class="p">],</span> <span class="s2">&quot;Illegal type for maximum. Expected type </span><span class="si">%s</span><span class="s2"> or </span><span class="si">%s</span><span class="s2">, got </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="nb">type</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
                <span class="nb">type</span><span class="p">(</span><span class="mf">0.0</span><span class="p">),</span>
                <span class="nb">type</span><span class="p">(</span><span class="nb">max</span><span class="p">),</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">min</span> <span class="ow">and</span> <span class="nb">max</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">min</span><span class="p">:</span>
                <span class="nb">max</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">max</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">(</span><span class="nb">max</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">showLabel</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">printLabel</span><span class="p">()</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">,</span> <span class="s2">&quot;optionsForm&quot;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">maxInput</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">labelFormat</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">max</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">toggleMax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">max_entry</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;gray0&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">maxOld</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">max</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">,</span> <span class="s2">&quot;optionsForm&quot;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">toggleMax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">max_entry</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;gray40&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="ThumbWheel.setIncrement"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.setIncrement">[docs]</a>    <span class="k">def</span> <span class="nf">setIncrement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">incr</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">incr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>

            <span class="k">assert</span> <span class="nb">type</span><span class="p">(</span><span class="n">incr</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="nb">int</span><span class="p">,</span>
                <span class="nb">float</span><span class="p">,</span>
            <span class="p">],</span> <span class="s2">&quot;Illegal type for increment. Expected type </span><span class="si">%s</span><span class="s2"> or </span><span class="si">%s</span><span class="s2">, got </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="nb">type</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
                <span class="nb">type</span><span class="p">(</span><span class="mf">0.0</span><span class="p">),</span>
                <span class="nb">type</span><span class="p">(</span><span class="n">incr</span><span class="p">),</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">increment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">(</span><span class="n">incr</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">offsetValue</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">incrementOld</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">increment</span>

            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">,</span> <span class="s2">&quot;optionsForm&quot;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">incrInput</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">labelFormat</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">increment</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">toggleIncr</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">incr_entry</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;gray0&quot;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">increment</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">,</span> <span class="s2">&quot;optionsForm&quot;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">toggleIncr</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">incr_entry</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;gray40&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="ThumbWheel.setPrecision"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.setPrecision">[docs]</a>    <span class="k">def</span> <span class="nf">setPrecision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nb">type</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="nb">int</span><span class="p">,</span>
            <span class="nb">float</span><span class="p">,</span>
        <span class="p">],</span> <span class="s2">&quot;Illegal type for precision. Expected type </span><span class="si">%s</span><span class="s2"> or </span><span class="si">%s</span><span class="s2">, got </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="nb">type</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
            <span class="nb">type</span><span class="p">(</span><span class="mf">0.0</span><span class="p">),</span>
            <span class="nb">type</span><span class="p">(</span><span class="n">val</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="n">val</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">val</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="k">if</span> <span class="n">val</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">precision</span> <span class="o">=</span> <span class="n">val</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="nb">float</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">labelFormat</span> <span class="o">=</span> <span class="s2">&quot;%.&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">precision</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;f&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">labelFormat</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2">&quot;</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">,</span> <span class="s2">&quot;optionsForm&quot;</span><span class="p">):</span>
            <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">idf</span><span class="o">.</span><span class="n">entryByName</span><span class="p">[</span><span class="s2">&quot;selPrec&quot;</span><span class="p">][</span><span class="s2">&quot;widget&quot;</span><span class="p">]</span>
            <span class="n">w</span><span class="o">.</span><span class="n">setvalue</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">updateDisplay</span><span class="p">()</span>

        <span class="c1"># and update the printed label</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">showLabel</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">printLabel</span><span class="p">()</span></div>

<div class="viewcode-block" id="ThumbWheel.setContinuous"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.setContinuous">[docs]</a>    <span class="k">def</span> <span class="nf">setContinuous</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cont</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; cont can be None, 0 or 1 &quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="n">cont</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">(</span>
            <span class="s2">&quot;Illegal value for continuous: expecting a boolean True, False, got </span><span class="si">%s</span><span class="s2">&quot;</span>
            <span class="o">%</span> <span class="n">cont</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">continuous</span> <span class="o">=</span> <span class="n">cont</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">,</span> <span class="s2">&quot;optionsForm&quot;</span><span class="p">):</span>
            <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">idf</span><span class="o">.</span><span class="n">entryByName</span><span class="p">[</span><span class="s2">&quot;togCont&quot;</span><span class="p">][</span><span class="s2">&quot;widget&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">cont</span><span class="p">:</span>
                <span class="n">w</span><span class="o">.</span><span class="n">setvalue</span><span class="p">(</span><span class="s2">&quot;on&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">w</span><span class="o">.</span><span class="n">setvalue</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="ThumbWheel.setShowLabel"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.setShowLabel">[docs]</a>    <span class="k">def</span> <span class="nf">setShowLabel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Show label can be 0, 1 or 2</span>
<span class="sd">        0: no label</span>
<span class="sd">        1: show label only when value changes</span>
<span class="sd">        2: label is always shown&quot;&quot;&quot;</span>

        <span class="k">assert</span> <span class="n">val</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">(</span>
            <span class="s2">&quot;Illegal value for showLabel. Expected 0, 1 or 2, got </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">val</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">val</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">val</span> <span class="o">!=</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">val</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Illegal value. Must be 0, 1 or 2&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">showLabel</span> <span class="o">=</span> <span class="n">val</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toggleWidgetLabel</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">,</span> <span class="s2">&quot;optionsForm&quot;</span><span class="p">):</span>
            <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">idf</span><span class="o">.</span><span class="n">entryByName</span><span class="p">[</span><span class="s2">&quot;togLabel&quot;</span><span class="p">][</span><span class="s2">&quot;widget&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">showLabel</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;never&quot;</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">showLabel</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;always&quot;</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">showLabel</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;move&quot;</span>
            <span class="n">w</span><span class="o">.</span><span class="n">setvalue</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">updateDisplay</span><span class="p">()</span></div>

<div class="viewcode-block" id="ThumbWheel.setOneTurn"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.setOneTurn">[docs]</a>    <span class="k">def</span> <span class="nf">setOneTurn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">oneTurn</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nb">type</span><span class="p">(</span><span class="n">oneTurn</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="nb">int</span><span class="p">,</span>
            <span class="nb">float</span><span class="p">,</span>
        <span class="p">],</span> <span class="s2">&quot;Illegal type for oneTurn. Expected </span><span class="si">%s</span><span class="s2"> or </span><span class="si">%s</span><span class="s2">, got </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="nb">type</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
            <span class="nb">type</span><span class="p">(</span><span class="mf">0.0</span><span class="p">),</span>
            <span class="nb">type</span><span class="p">(</span><span class="n">oneTurn</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">oneTurn</span> <span class="o">=</span> <span class="n">oneTurn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">threeSixtyOver1turn</span> <span class="o">=</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="n">oneTurn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">piOver1turn</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="n">oneTurn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">oneTurnOver2pi</span> <span class="o">=</span> <span class="n">oneTurn</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">updateDisplay</span><span class="p">()</span></div>

<div class="viewcode-block" id="ThumbWheel.setOrient"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.setOrient">[docs]</a>    <span class="k">def</span> <span class="nf">setOrient</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">orient</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">orient</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">:</span>
                <span class="n">orient</span> <span class="o">=</span> <span class="s2">&quot;horizontal&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">orient</span> <span class="o">=</span> <span class="s2">&quot;vertical&quot;</span>
        <span class="k">assert</span> <span class="n">orient</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;horizontal&quot;</span><span class="p">,</span> <span class="s2">&quot;vertical&quot;</span><span class="p">],</span> <span class="p">(</span>
            <span class="s2">&quot;Expected &#39;vertical&#39; or &#39;horizontal&#39;, got &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="n">orient</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">orient</span> <span class="o">=</span> <span class="n">orient</span></div>

<div class="viewcode-block" id="ThumbWheel.setReportDelta"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.setReportDelta">[docs]</a>    <span class="k">def</span> <span class="nf">setReportDelta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rD</span><span class="p">):</span>
        <span class="k">assert</span> <span class="n">rD</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;Expected None, 0 or 1, got </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">rD</span>
        <span class="k">if</span> <span class="n">rD</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">rD</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reportDelta</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reportDelta</span> <span class="o">=</span> <span class="mi">1</span></div>

    <span class="c1">#####################################################################</span>
    <span class="c1"># the &#39;lock&#39; methods:</span>
    <span class="c1">#####################################################################</span>

<div class="viewcode-block" id="ThumbWheel.lockTypeCB"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.lockTypeCB">[docs]</a>    <span class="k">def</span> <span class="nf">lockTypeCB</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockType</span> <span class="o">=</span> <span class="n">mode</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">,</span> <span class="s2">&quot;optionsForm&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">lockUnlockDisplay</span><span class="p">()</span></div>

<div class="viewcode-block" id="ThumbWheel.lockMinCB"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.lockMinCB">[docs]</a>    <span class="k">def</span> <span class="nf">lockMinCB</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>  <span class="c1"># min entry field</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockMin</span> <span class="o">=</span> <span class="n">mode</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">,</span> <span class="s2">&quot;optionsForm&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">lockUnlockDisplay</span><span class="p">()</span></div>

<div class="viewcode-block" id="ThumbWheel.lockBMinCB"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.lockBMinCB">[docs]</a>    <span class="k">def</span> <span class="nf">lockBMinCB</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>  <span class="c1"># min checkbutton</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockBMin</span> <span class="o">=</span> <span class="n">mode</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">,</span> <span class="s2">&quot;optionsForm&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">lockUnlockDisplay</span><span class="p">()</span></div>

<div class="viewcode-block" id="ThumbWheel.lockMaxCB"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.lockMaxCB">[docs]</a>    <span class="k">def</span> <span class="nf">lockMaxCB</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>  <span class="c1"># max entry field</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockMax</span> <span class="o">=</span> <span class="n">mode</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">,</span> <span class="s2">&quot;optionsForm&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">lockUnlockDisplay</span><span class="p">()</span></div>

<div class="viewcode-block" id="ThumbWheel.lockBMaxCB"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.lockBMaxCB">[docs]</a>    <span class="k">def</span> <span class="nf">lockBMaxCB</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>  <span class="c1"># max checkbutton</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockBMax</span> <span class="o">=</span> <span class="n">mode</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">,</span> <span class="s2">&quot;optionsForm&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">lockUnlockDisplay</span><span class="p">()</span></div>

<div class="viewcode-block" id="ThumbWheel.lockIncrementCB"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.lockIncrementCB">[docs]</a>    <span class="k">def</span> <span class="nf">lockIncrementCB</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>  <span class="c1"># increment entry field</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockIncrement</span> <span class="o">=</span> <span class="n">mode</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">,</span> <span class="s2">&quot;optionsForm&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">lockUnlockDisplay</span><span class="p">()</span></div>

<div class="viewcode-block" id="ThumbWheel.lockBIncrementCB"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.lockBIncrementCB">[docs]</a>    <span class="k">def</span> <span class="nf">lockBIncrementCB</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>  <span class="c1"># increment checkbutton</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockBIncrement</span> <span class="o">=</span> <span class="n">mode</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">,</span> <span class="s2">&quot;optionsForm&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">lockUnlockDisplay</span><span class="p">()</span></div>

<div class="viewcode-block" id="ThumbWheel.lockPrecisionCB"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.lockPrecisionCB">[docs]</a>    <span class="k">def</span> <span class="nf">lockPrecisionCB</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockPrecision</span> <span class="o">=</span> <span class="n">mode</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">,</span> <span class="s2">&quot;optionsForm&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">lockUnlockDisplay</span><span class="p">()</span></div>

<div class="viewcode-block" id="ThumbWheel.lockShowLabelCB"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.lockShowLabelCB">[docs]</a>    <span class="k">def</span> <span class="nf">lockShowLabelCB</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockShowLabel</span> <span class="o">=</span> <span class="n">mode</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">,</span> <span class="s2">&quot;optionsForm&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">lockUnlockDisplay</span><span class="p">()</span></div>

<div class="viewcode-block" id="ThumbWheel.lockValueCB"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.lockValueCB">[docs]</a>    <span class="k">def</span> <span class="nf">lockValueCB</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockValue</span> <span class="o">=</span> <span class="n">mode</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">,</span> <span class="s2">&quot;optionsForm&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">lockUnlockDisplay</span><span class="p">()</span></div>

<div class="viewcode-block" id="ThumbWheel.lockContinuousCB"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.lockContinuousCB">[docs]</a>    <span class="k">def</span> <span class="nf">lockContinuousCB</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockContinuous</span> <span class="o">=</span> <span class="n">mode</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">,</span> <span class="s2">&quot;optionsForm&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">lockUnlockDisplay</span><span class="p">()</span></div>

<div class="viewcode-block" id="ThumbWheel.lockOneTurnCB"><a class="viewcode-back" href="../../../../../../../cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.html#cellpack.mgl_tools.mglutil.gui.BasicWidgets.Tk.thumbwheel.ThumbWheel.lockOneTurnCB">[docs]</a>    <span class="k">def</span> <span class="nf">lockOneTurnCB</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockOneTurn</span> <span class="o">=</span> <span class="n">mode</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="p">,</span> <span class="s2">&quot;optionsForm&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opPanel</span><span class="o">.</span><span class="n">lockUnlockDisplay</span><span class="p">()</span></div></div>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>

    <span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>

    <span class="n">tw</span> <span class="o">=</span> <span class="n">ThumbWheel</span><span class="p">(</span>
        <span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
        <span class="n">height</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
        <span class="n">labCfg</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;X:&quot;</span><span class="p">},</span>
        <span class="c1">#    tw = ThumbWheel(width=20, height=100, labCfg={&#39;text&#39;:&#39;X:&#39;},</span>
        <span class="c1">#                    orient=&#39;vertical&#39;,</span>
        <span class="n">wheelPad</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span>
        <span class="nb">min</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">tw</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">showLabel</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">tw</span><span class="o">.</span><span class="n">callbacks</span><span class="o">.</span><span class="n">AddCallback</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span>
</pre></div>

           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Megan Riel-Mehan.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>